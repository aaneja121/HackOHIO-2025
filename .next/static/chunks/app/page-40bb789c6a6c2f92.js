(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2433:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>F});var r=t(5155),a=t(2115),n=t(2467),i=t(3101),l=t(4269);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:t,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:t})),ref:s,...c})});d.displayName="Button";let c=a.forwardRef((e,s)=>{let{className:t,type:a,...n}=e;return(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n})});c.displayName="Input";var u=t(489);let m=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(u.b,{ref:s,className:(0,l.cn)(m(),t),...a})});x.displayName=u.b.displayName;let f=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});f.displayName="Card";let p=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});p.displayName="CardHeader";let h=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});h.displayName="CardTitle";let g=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});g.displayName="CardDescription";let y=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...a})});y.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter";var v=t(5894);let j=()=>{let[e,s]=(0,a.useState)(!0),[t,n]=(0,a.useState)(!1),[i,l]=(0,a.useState)(""),[o,u]=(0,a.useState)(""),[m,j]=(0,a.useState)(""),{toast:N}=(0,v.dj)(),b=async e=>{e.preventDefault(),n(!0);try{await new Promise(e=>setTimeout(e,500)),N({title:"Demo Mode",description:"Logging in with demo account..."})}catch(e){N({title:"Error",description:e.message,variant:"destructive"})}finally{n(!1)}};return(0,r.jsxs)(f,{className:"w-full max-w-md",children:[(0,r.jsxs)(p,{children:[(0,r.jsx)(h,{children:e?"Welcome Back":"Create Account"}),(0,r.jsx)(g,{children:e?"Log in to access your recovery dashboard":"Join Aegis to monitor your post-surgical recovery"})]}),(0,r.jsx)(y,{children:(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[!e&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x,{htmlFor:"fullName",children:"Full Name"}),(0,r.jsx)(c,{id:"fullName",type:"text",value:m,onChange:e=>j(e.target.value),required:!0,placeholder:"John Doe"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x,{htmlFor:"email",children:"Email"}),(0,r.jsx)(c,{id:"email",type:"email",value:i,onChange:e=>l(e.target.value),required:!0,placeholder:"you@example.com"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x,{htmlFor:"password",children:"Password"}),(0,r.jsx)(c,{id:"password",type:"password",value:o,onChange:e=>u(e.target.value),required:!0,placeholder:"••••••••",minLength:6})]}),(0,r.jsx)(d,{type:"submit",className:"w-full",disabled:t,children:t?"Loading...":e?"Log In":"Sign Up"}),(0,r.jsx)(d,{type:"button",variant:"ghost",className:"w-full",onClick:()=>s(!e),children:e?"Need an account? Sign up":"Already have an account? Log in"})]})})]})};var N=t(5664),b=t(5299),w=t(1786);let S=e=>{let{onAnalysisComplete:s}=e,[t,n]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),{toast:o}=(0,v.dj)(),d=async e=>{try{n(!0);let t=URL.createObjectURL(e);n(!1),l(!0),o({title:"Analyzing wound...",description:"Processing your image (demo mode)..."}),await new Promise(e=>setTimeout(e,1500));let r={riskScore:25,status:"healthy",analysis:"No obvious signs of infection detected. The wound appears to be healing normally.",recommendations:"Continue following standard wound care instructions. Keep the area clean and dry."},a=JSON.parse(localStorage.getItem("wound_assessments")||"[]");a.push({id:Date.now(),created_at:new Date().toISOString(),image_url:t,risk_score:r.riskScore,status:r.status,ai_analysis:r.analysis,recommendations:r.recommendations}),localStorage.setItem("wound_assessments",JSON.stringify(a)),o({title:"Analysis complete!",description:"Status: ".concat(r.status.toUpperCase()),variant:"critical"===r.status?"destructive":"default"}),s()}catch(e){console.error("Upload error:",e),o({title:"Error",description:e.message||"Failed to process image",variant:"destructive"})}finally{n(!1),l(!1)}};return(0,r.jsxs)(f,{children:[(0,r.jsxs)(p,{children:[(0,r.jsxs)(h,{className:"flex items-center gap-2",children:[(0,r.jsx)(N.A,{className:"h-5 w-5"}),"Upload Wound Photo"]}),(0,r.jsx)(g,{children:"Take a clear photo of your surgical wound for AI analysis"})]}),(0,r.jsx)(y,{children:(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[(0,r.jsx)("input",{type:"file",id:"wound-upload",accept:"image/*",onChange:e=>{var s;let t=null==(s=e.target.files)?void 0:s[0];if(t){if(!t.type.startsWith("image/"))return void o({title:"Invalid file",description:"Please select an image file",variant:"destructive"});d(t)}},disabled:t||i,className:"hidden"}),(0,r.jsx)("label",{htmlFor:"wound-upload",className:"cursor-pointer",children:t||i?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)(b.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:t?"Uploading...":"Analyzing with AI..."})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)(w.A,{className:"h-8 w-8 text-muted-foreground"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:"Click to upload or take photo"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Supported: JPG, PNG, WEBP"})]})})]})})})]})};var A=t(5239);let _=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function k(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(_({variant:t}),s),...a})}var T=t(8533);let C=a.forwardRef((e,s)=>{let{className:t,children:a,...n}=e;return(0,r.jsxs)(T.bL,{ref:s,className:(0,l.cn)("relative overflow-hidden",t),...n,children:[(0,r.jsx)(T.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,r.jsx)(D,{}),(0,r.jsx)(T.OK,{})]})});C.displayName=T.bL.displayName;let D=a.forwardRef((e,s)=>{let{className:t,orientation:a="vertical",...n}=e;return(0,r.jsx)(T.VM,{ref:s,orientation:a,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:(0,r.jsx)(T.lr,{className:"relative flex-1 rounded-full bg-border"})})});D.displayName=T.VM.displayName;var E=t(2529),I=t(2056),O=t(6132),R=t(1330);let M=e=>{let{refreshTrigger:s}=e,[t,n]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{o()},[s]);let o=async()=>{try{l(!0);let e=localStorage.getItem("wound_assessments"),s=e?JSON.parse(e):[];s.sort((e,s)=>{let t=e.created_at?new Date(e.created_at).getTime():0;return(s.created_at?new Date(s.created_at).getTime():0)-t}),n(s)}catch(e){console.error("Error loading assessments:",e)}finally{l(!1)}};return i?(0,r.jsx)(f,{children:(0,r.jsx)(y,{className:"flex items-center justify-center p-8",children:(0,r.jsx)(b.A,{className:"h-8 w-8 animate-spin text-primary"})})}):(0,r.jsxs)(f,{children:[(0,r.jsxs)(p,{children:[(0,r.jsx)(h,{children:"Assessment History"}),(0,r.jsx)(g,{children:"Your recent wound assessments"})]}),(0,r.jsx)(y,{children:0===t.length?(0,r.jsx)("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No assessments yet. Upload your first wound photo to get started."}):(0,r.jsx)(C,{className:"h-[400px] pr-4",children:(0,r.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,r.jsx)(f,{children:(0,r.jsx)(y,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("div",{className:"relative w-24 h-24",children:(0,r.jsx)(A.default,{src:e.image_url,alt:"Wound assessment",fill:!0,className:"object-cover rounded-md"})}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(e=>{switch(e){case"healthy":return(0,r.jsx)(E.A,{className:"h-4 w-4 text-green-500"});case"warning":return(0,r.jsx)(I.A,{className:"h-4 w-4 text-yellow-500"});case"critical":return(0,r.jsx)(O.A,{className:"h-4 w-4 text-red-500"});default:return null}})(e.status),(0,r.jsx)(k,{variant:(e=>{switch(e){case"healthy":return"secondary";case"warning":default:return"default";case"critical":return"destructive"}})(e.status),children:e.status.toUpperCase()}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Risk Score: ",e.risk_score||0,"/100"]})]}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:e.created_at?(0,R.GP)(new Date(e.created_at),"MMM d, yyyy"):"Unknown date"})]}),(0,r.jsx)("p",{className:"text-sm line-clamp-2",children:e.ai_analysis||"No analysis available"}),e.recommendations&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,r.jsx)("strong",{children:"Recommendation:"})," ",e.recommendations]})]})]})})},e.id))})})})]})};var P=t(7910),L=t(4926),U=t(906);function F(){let[e,s]=(0,a.useState)({id:"demo",name:"Demo User"}),[t,n]=(0,a.useState)(0),{toast:i}=(0,v.dj)();(0,a.useEffect)(()=>()=>{},[]);let l=async()=>{i({title:"Demo Mode",description:"Logout is disabled in demo mode."})};return e?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:[(0,r.jsx)("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(P.A,{className:"h-6 w-6 text-primary"}),(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Aegis"})]}),(0,r.jsxs)(d,{variant:"ghost",onClick:l,children:[(0,r.jsx)(L.A,{className:"h-4 w-4 mr-2"}),"Logout"]})]})})}),(0,r.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,r.jsx)(f,{className:"bg-gradient-to-r from-primary/10 to-primary/5",children:(0,r.jsxs)(p,{children:[(0,r.jsxs)(h,{className:"flex items-center gap-2",children:[(0,r.jsx)(U.A,{className:"h-5 w-5"}),"Welcome to Your Recovery Dashboard"]}),(0,r.jsx)(g,{children:"Monitor your post-surgical recovery with AI-powered wound analysis"})]})}),(0,r.jsx)(S,{onAnalysisComplete:()=>{n(e=>e+1)}}),(0,r.jsx)(M,{refreshTrigger:t})]})})]}):(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,r.jsx)(P.A,{className:"h-10 w-10 text-primary"}),(0,r.jsx)("h1",{className:"text-4xl font-bold",children:"Aegis"})]}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"AI-Powered Post-Surgical Recovery Assistant"})]}),(0,r.jsx)(j,{})]})})}},3471:(e,s,t)=>{Promise.resolve().then(t.bind(t,2433))},4269:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(2821),a=t(5889);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},5894:(e,s,t)=>{"use strict";t.d(s,{dj:()=>u});var r=t(2115);let a=0,n=new Map,i=e=>{if(n.has(e))return;let s=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,s)},l=[],o={toasts:[]};function d(e){o=((e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}})(o,e),l.forEach(e=>{e(o)})}function c(e){let{...s}=e,t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,s]=r.useState(o);return r.useEffect(()=>(l.push(s),()=>{let e=l.indexOf(s);e>-1&&l.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}}},e=>{e.O(0,[166,839,441,255,358],()=>e(e.s=3471)),_N_E=e.O()}]);